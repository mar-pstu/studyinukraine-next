!function(p){function f(){return Math.floor(Date.now()/1e3)}p("html").addClass("js"),Date.now||(Date.now=function(){return(new Date).getTime()}),p.fn.bgVideo=function(e){var a=function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}}(),u=!1;a&&a[0]<10&&(u=!0);var d=p.extend({},p.fn.bgVideo.defaults,e);return this.each(function(){var e,a=p(this),t=a[0],s=a.attr("poster")||"",n=a.parent(),o=p('<button class="jquery-background-video-pauseplay pause"><span>Pause</span></button>'),i=p.extend({},d),r=a.data();p.each(r,function(e,a){0===e.indexOf("bgvideo")&&(e=(e=e.replace("bgvideo","")).charAt(0).toLowerCase()+e.slice(1),i[e]=a)}),a.on("playing",function(){null==e&&(e=f()),a.addClass("is-playing is-visible"),o.removeClass("play").addClass("pause").find("span").text("Pause"),p.fn.bgVideo.fitVideo(a)}),0<t.currentTime&&a.addClass("is-playing is-visible"),a.on("pause",function(){a.removeClass("is-playing"),o.removeClass("pause").addClass("play").find("span").text("Play"),i.fadeOnPause&&a.removeClass("is-visible")}),n.css({position:"relative",overflow:"hidden","background-size":"cover","background-position":"center center","background-repeat":"no-repeat","background-image":"url("+s+")"}),a.css({"min-width":"auto","min-height":"auto",width:"100%",height:"auto",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"}),i.fullScreen&&n.css({position:"fixed",top:"0",bottom:"0",left:"0",right:"0",height:"auto",margin:"0","z-index":"-1"}),a.css("transition-duration",i.fadeIn+"ms"),u&&(a.attr("src",""),a.find("source").attr("src",""),a.remove()),p.fn.bgVideo.fitVideo(a),p(window).resize(function(){p.fn.bgVideo.fitVideo(a)}),i.pauseAfter=parseInt(i.pauseAfter,10),0<i.pauseAfter&&a.on("timeupdate",function(){f()>e+i.pauseAfter&&(t.pause(),i.fadeOnEnd&&a.removeClass("is-visible"))}),i.showPausePlay&&!u&&(n.append(o),o.css({left:"auto",right:"auto",top:"auto",bottom:"auto"}),o.css(i.pausePlayXPos,i.pausePlayXOffset),o.css(i.pausePlayYPos,i.pausePlayYOffset),"center"===i.pausePlayXPos&&o.css({left:"50%","margin-left":"-10px"}),"center"===i.pausePlayYPos&&o.css({top:"50%","margin-top":"-10px"}),o.on("click",function(){t.paused?(t.play(),e=f()):t.pause()}))})},p.fn.bgVideo.defaults={fullScreen:!1,fadeIn:500,pauseAfter:120,fadeOnPause:!1,fadeOnEnd:!0,showPausePlay:!0,pausePlayXPos:"right",pausePlayYPos:"top",pausePlayXOffset:"15px",pausePlayYOffset:"15px"},p.fn.bgVideo.fitVideo=function(e){var a=e.parent(),t=a.outerHeight(),s=a.outerWidth();e.css({height:"auto",width:s+"px"}),e.height()<t&&e.css({height:t+"px",width:"auto"})},p(document).ready(function(){p("[data-bgvideo]").bgVideo()})}(jQuery);